<!doctype html>
<html lang="en">
	<head>
		<style>
			html,body {margin: 0; height: 100%; background: #161616; overflow: hidden; font: normal 14px Arial;}
			#canv {background: #000;}
		</style>
	</head>
	<body id="Body">
		<canvas id="canv" width="1" height="1"></canvas>
		<script>
			;(function() {

				window.requestAnimFrame = (function(){
					return  window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(callback){
						window.setTimeout(callback, 10);
					};
				})();

				function rand(x) {
					return Math.round(Math.random()*x);
				}

				var	canv = document.getElementById('canv'),
					point = [],
					matrix = [[171, 187],[183, 186],[178, 196],[184, 207],[172, 203],[174, 214],[181, 217],[172, 228],[184, 225],[178, 239],[184, 246],[170, 245],[174, 256],[184, 260],[173, 266],[182, 273],[170, 277],[177, 282],[191, 225],[189, 237],[197, 230],[201, 236],[208, 226],[211, 235],[220, 226],[222, 234],[230, 221],[230, 230],[237, 238],[239, 227],[236, 216],[243, 216],[236, 205],[245, 204],[247, 192],[240, 187],[234, 194],[245, 229],[244, 237],[246, 249],[244, 261],[246, 275],[240, 280],[235, 273],[234, 260],[234, 247],[268, 226],[275, 226],[281, 223],[276, 216],[288, 215],[295, 220],[300, 211],[304, 214],[304, 223],[312, 215],[312, 224],[321, 222],[319, 233],[318, 226],[312, 234],[317, 241],[324, 236],[323, 249],[315, 248],[312, 255],[315, 263],[318, 256],[322, 261],[313, 271],[324, 267],[317, 275],[324, 278],[316, 280],[306, 271],[300, 273],[293, 278],[287, 271],[285, 277],[273, 273],[277, 268],[269, 264],[276, 260],[271, 252],[280, 250],[285, 245],[292, 246],[304, 241],[298, 245],[351, 213],[358, 213],[364, 213],[353, 220],[364, 220],[359, 231],[351, 229],[362, 235],[356, 240],[349, 236],[352, 248],[359, 246],[361, 257],[353, 256],[351, 263],[354, 272],[359, 266],[360, 276],[351, 280],[352, 290],[353, 299],[357, 285],[360, 290],[360, 302],[349, 306],[358, 307],[371, 213],[383, 211],[395, 214],[373, 220],[387, 220],[401, 219],[405, 222],[407, 234],[400, 229],[411, 244],[403, 247],[412, 252],[402, 258],[409, 262],[406, 271],[400, 265],[394, 269],[398, 278],[390, 277],[384, 271],[382, 278],[375, 269],[375, 273],[366, 269],[366, 261],[370, 227],[438, 215],[447, 215],[458, 213],[470, 213],[480, 214],[490, 218],[496, 226],[499, 235],[501, 248],[495, 262],[490, 273],[478, 274],[481, 282],[468, 281],[462, 275],[454, 274],[434, 224],[435, 230],[436, 241],[435, 255],[437, 267],[436, 277],[435, 290],[435, 302],[441, 309],[449, 306],[447, 296],[447, 286],[448, 276],[445, 255],[445, 238],[446, 223],[458, 223],[466, 217],[476, 221],[484, 221],[484, 232],[491, 227],[490, 242],[492, 236],[497, 245],[490, 252],[496, 254],[484, 264],[448, 263],[446, 230],[440, 247],[185, 194],[176, 222],[179, 228],[176, 252],[240, 249],[239, 264],[295, 211],[513, 211],[515, 217],[519, 225],[521, 234],[525, 244],[532, 253],[533, 265],[537, 272],[538, 281],[536, 295],[528, 298],[516, 302],[521, 309],[525, 307],[535, 308],[540, 300],[543, 289],[548, 297],[551, 283],[560, 271],[552, 273],[548, 272],[543, 264],[538, 256],[538, 244],[531, 238],[533, 233],[525, 228],[532, 218],[531, 224],[525, 215],[551, 259],[553, 265],[558, 255],[559, 262],[563, 249],[555, 246],[559, 236],[561, 242],[567, 239],[568, 229],[560, 228],[573, 224],[575, 215],[569, 212],[566, 218],[564, 223],[636, 214],[646, 210],[640, 223],[646, 230],[632, 226],[647, 217],[640, 234],[634, 240],[632, 232],[637, 238],[647, 241],[640, 252],[637, 244],[635, 257],[644, 260],[640, 265],[651, 268],[655, 274],[664, 278],[676, 277],[685, 283],[698, 273],[709, 271],[713, 258],[720, 247],[722, 232],[710, 234],[713, 219],[705, 207],[700, 193],[682, 188],[666, 185],[653, 190],[643, 197],[637, 207],[653, 201],[662, 194],[678, 191],[671, 186],[689, 188],[685, 195],[666, 194],[660, 205],[648, 254],[656, 258],[655, 267],[662, 266],[672, 270],[672, 277],[683, 271],[690, 275],[694, 265],[703, 258],[703, 266],[710, 250],[710, 241],[723, 221],[719, 208],[712, 199],[700, 199],[698, 186],[718, 227],[713, 209],[718, 237],[742, 187],[742, 193],[743, 201],[747, 211],[752, 215],[746, 216],[752, 203],[753, 193],[753, 184],[747, 190],[749, 196],[755, 197],[831, 224],[823, 224],[816, 219],[805, 219],[794, 219],[789, 220],[789, 227],[791, 232],[798, 238],[814, 243],[828, 246],[832, 258],[830, 269],[820, 276],[807, 283],[793, 279],[780, 276],[771, 266],[781, 261],[784, 266],[777, 267],[790, 273],[788, 265],[784, 274],[796, 274],[807, 278],[801, 272],[800, 279],[815, 271],[823, 264],[823, 253],[811, 250],[818, 248],[816, 253],[803, 248],[803, 238],[792, 245],[784, 239],[778, 228],[775, 239],[781, 231],[783, 219],[776, 222],[794, 247],[784, 213],[795, 212],[808, 213],[820, 214],[826, 217],[810, 211],[783, 244],[816, 279],[822, 267],[826, 258],[822, 272],[955, 185],[955, 193],[955, 207],[954, 216],[954, 228],[954, 241],[954, 252],[954, 263],[954, 275],[949, 281],[937, 281],[926, 281],[912, 281],[905, 274],[897, 267],[895, 258],[894, 247],[894, 235],[898, 222],[908, 217],[917, 212],[929, 215],[936, 216],[942, 217],[943, 209],[943, 203],[942, 189],[946, 188],[949, 196],[947, 207],[946, 221],[947, 232],[940, 228],[935, 220],[924, 220],[914, 221],[906, 229],[902, 244],[905, 256],[908, 266],[918, 274],[931, 270],[943, 261],[942, 243],[943, 237],[949, 242],[945, 254],[946, 268],[942, 274],[938, 268],[932, 276],[899, 234],[903, 221],[923, 211],[897, 240],[899, 251],[901, 261],[902, 269],[913, 273],[952, 236],[950, 212],[947, 249],[978, 226],[986, 227],[991, 216],[982, 219],[990, 224],[999, 211],[999, 217],[1002, 221],[1008, 212],[1010, 217],[1022, 214],[1015, 221],[1026, 218],[1022, 228],[1033, 225],[1028, 232],[1022, 235],[1020, 244],[1024, 253],[1023, 260],[1024, 268],[1025, 272],[1027, 277],[1034, 278],[1031, 271],[1033, 266],[1032, 258],[1031, 245],[1031, 233],[1029, 241],[1019, 270],[1012, 275],[1016, 238],[1008, 238],[1007, 242],[1010, 246],[998, 248],[997, 244],[991, 247],[983, 257],[984, 249],[980, 260],[978, 269],[984, 269],[987, 276],[995, 277],[1001, 277],[1005, 274],[991, 268],[990, 255],[986, 261],[992, 279],[1002, 277],[1032, 250],[1053, 213],[1060, 213],[1063, 221],[1069, 228],[1057, 221],[1062, 231],[1065, 218],[1065, 237],[1071, 241],[1072, 232],[1066, 249],[1069, 244],[1074, 255],[1066, 259],[1071, 245],[1073, 260],[1075, 268],[1074, 274],[1076, 290],[1071, 298],[1063, 300],[1055, 301],[1058, 309],[1065, 308],[1074, 307],[1084, 296],[1078, 301],[1080, 278],[1079, 263],[1081, 274],[1086, 269],[1087, 284],[1090, 268],[1089, 278],[1089, 252],[1091, 263],[1095, 253],[1102, 253],[1096, 262],[1096, 236],[1095, 246],[1101, 243],[1102, 235],[1110, 226],[1115, 216],[1110, 214],[1105, 214],[1102, 218],[1100, 227],[1107, 219],[1104, 234],[1108, 230],[1096, 275],[653, 192],[648, 199],[642, 221],[695, 276],[718, 259],[230, 188],[242, 197],[240, 212],[179, 205],[172, 192],[180, 187],[178, 271],[184, 278],[179, 249],[175, 236],[189, 229],[182, 233],[235, 230],[235, 241],[234, 269],[238, 242],[238, 255],[243, 273],[275, 277],[280, 280],[284, 252],[279, 262],[275, 252],[310, 243],[281, 216],[409, 233],[410, 225],[380, 215],[396, 224],[443, 275],[440, 288],[439, 304],[441, 257],[448, 241],[447, 245],[459, 274],[472, 273],[489, 270],[490, 262],[450, 225],[669, 289],[669, 296],[669, 306],[669, 321],[669, 329],[668, 342],[668, 354],[671, 369],[668, 373],[669, 380],[675, 385],[683, 385],[683, 381],[683, 373],[682, 363],[682, 353],[685, 334],[684, 323],[684, 297],[684, 294],[682, 313],[684, 304],[678, 299],[678, 311],[674, 325],[678, 336],[678, 344],[675, 366],[675, 357],[646, 335],[649, 335],[657, 336],[662, 335],[677, 335],[689, 335],[691, 335],[697, 335],[705, 335],[713, 335],[713, 338],[712, 341],[711, 343],[708, 345],[704, 351],[698, 348],[688, 347],[682, 346],[668, 346],[656, 345],[643, 350],[648, 343],[658, 348],[661, 354],[634, 339]],
					matrixLength = matrix.length,
					m = false,
					s = false,
					ctx = canv.getContext('2d'),
					windowWidth = self.innerWidth,
					windowHeight = self.innerHeight,
					upperBorder = Math.ceil(windowHeight/2-2),
					lowerBorder = upperBorder+4,
					horizontalFactor = windowWidth/1280,
					verticalFactor = windowHeight/709;

				canv.setAttribute('width', windowWidth);
				canv.setAttribute('height', windowHeight);

				function particle() {
					this.radius = rand(rand(rand(15)));
					this.y = upperBorder+rand(lowerBorder-upperBorder);
					this.x = rand(windowWidth);
					this.color = 'rgba('+rand(255)+','+rand(255)+','+rand(255)+',1)';
					this.minr = (rand(2) == 2)?1:3;
					this.spl = rand(2);
				}

				function allexp() {
					for(var i=0; i<matrixLength; i++) {
						point[i].radius = 20;
					}
				}

				function draw() {
					canv.width = canv.width;
					point[rand(matrixLength-1)].radius = rand(20);
					for(var i=matrixLength; i--;) {
						if(m) move(i);
						else if(s) splash(i);
						point[i].radius = (point[i].radius>point[i].minr)?--point[i].radius: point[i].minr;
						ctx.fillStyle = point[i].color;
						ctx.beginPath();
						ctx.arc(point[i].x, point[i].y, point[i].radius, 0, Math.PI*2, false);
						ctx.closePath();
						ctx.fill();
					}
					requestAnimFrame(arguments.callee, canv);
				}


				function move(i) {
					var wx = point[i].x-matrix[i][0];
					var wy = point[i].y-matrix[i][1];

					if(wx >0) {point[i].x -= Math.ceil(wx/10);}
					else {point[i].x += Math.ceil(Math.abs(wx/10));}

					if(wy >0) {if(wy>0) {point[i].y -= Math.ceil(wy/10);}}
					else {if(wy<0) {point[i].y += Math.ceil(Math.abs(wy/10));}}
				}

				function splash(i) {
					var	wx = point[i].x-matrix[i][0],
						wy = point[i].y-matrix[i][1];

					wx = Math.ceil(windowHeight/((wx > 10)?wx:100));
					wy = Math.ceil(windowHeight/((wy > 10)?wy:100));

					if(point[i].spl == 1) {
						point[i].y -= wx;
						point[i].x -= wy
					}
					else {
						point[i].y += wx;
						point[i].x += wy;
					}

					if(point[i].y<-40) {point[i].y = windowHeight+40}
					if(point[i].y>windowHeight+40) {point[i].y = -40}

					if(point[i].x<-40) {point[i].x = windowWidth+40}
					if(point[i].x>windowWidth+40) {point[i].x = -40}
				}

				for(var i=0; i<matrixLength; i++) {
					matrix[i][0] = Math.ceil(horizontalFactor*matrix[i][0]);
					matrix[i][1] = Math.ceil(verticalFactor*matrix[i][1]);
					point[i] = new particle();
				}

				draw();
				setTimeout(function() {s=true;}, 3000);
				setTimeout(allexp, 6000);
				setTimeout(function() {m=true;}, 9000);

				canv.onmousedown = allexp;

			})();
		</script>
	</body>
</html>